"use strict";(self.webpackChunkkinetix_frontoffice=self.webpackChunkkinetix_frontoffice||[]).push([[526],{5813:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(85893),a=n(67294),i=n(89250),l=n(12599),o=n(27306),u=n(96233),s=n(42155),c=n(19010),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},h=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},f=function(e){var t=e.sort((function(e,t){return e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:0}));return t.length&&t[t.length-1].configuration.mainUsage||o.APPLICATION_MAIN_USAGE.SDK};const p=function(e){var t=e.children,n=e.hideFooter,p=void 0!==n&&n,m=(0,i.s0)(),b=(0,i.TH)(),x=(0,i.UO)(),v=(0,o.useApplications)(),g=v.applications,y=v.limit,j=(0,a.useState)(!1),T=j[0],N=j[1],A=(0,a.useState)(0),E=A[0],O=A[1],I=(0,a.useState)(),U=I[0],w=I[1],S=(null==x?void 0:x.uuid)||"";return(0,a.useEffect)((function(){var e=g.find((function(e){return e.uuid===S}));e&&(w({label:e.name,uuid:e.uuid}),s.P$&&(0,c.IB)({virtualWorldUuid:e.uuid,limit:1}).then((function(e){return O(e.total)})))}),[S]),U?(0,r.jsx)("div",d({id:"ConnectedLayout",className:"lg:flex"},{children:(0,r.jsx)(o.HeaderVertical,d({contextItems:g.map((function(e){return{label:e.name,uuid:e.uuid}})),selectedContextItem:U,onCreateContextItem:g.length<y?function(){return N(!0)}:void 0,onSelectContextItem:function(e){var t;t=b.pathname.includes("/user-moderation")?u.n.USER_MODERATION.path:u.n.VIRTUAL_WORLD.path,m((0,l.Gn)(t,{uuid:e.uuid}))},topNavigationItems:h([],g.length&&U?h(h(h(h([{label:"Dashboard",iconName:"dashboard",to:(0,l.Gn)(u.n.VIRTUAL_WORLD.path,{uuid:U.uuid})}],s.p6?[{label:"Settings",iconName:"settings",to:(0,l.Gn)(u.n.SETTINGS.path,{uuid:U.uuid})}]:[],!0),[{label:"User-Generated Emote",isSeparator:!0},{label:"Avatar Upload",iconName:"directions_run",to:(0,l.Gn)(u.n.AVATAR_MANAGEMENT.path,{uuid:U.uuid})},{label:"UGC Viewer",iconName:"neurology",to:(0,l.Gn)(u.n.USER_GENERATED_EMOTES.path,{uuid:U.uuid})}],!1),s.P$?[{label:"UGC Moderation",iconName:"security",items:[{label:"Moderation Overview",to:(0,l.Gn)(u.n.MODERATION_OVERVIEW.path,{uuid:U.uuid}),counter:E},{label:"User Moderation",to:(0,l.Gn)(u.n.USER_MODERATION.path,{uuid:U.uuid})}]}]:[{label:"UGC Moderation",iconName:"security",to:(0,l.Gn)(u.n.USER_MODERATION.path,{uuid:U.uuid})}],!0),[{label:"Emote Icon Manager",iconName:"mood",to:(0,l.Gn)(u.n.EMOTES_ICON.path,{uuid:U.uuid})}],!1):[{label:"Game API Key",iconName:"public",to:u.n.CREATE_VIRTUAL_WORLD.path}],!0),documentationNavigationItems:{label:"Documentation",iconName:"find_in_page",items:[{label:"General Information",href:s.sW},{label:"Integrate SDK",href:s.yy},{label:"Integrate Without SDK (API)",href:s.HI}]}},{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",d({className:"min-h-[calc(100vh-162px)] lg:min-h-[calc(100vh-98px)] pt-6"},{children:t}),(null==U?void 0:U.uuid)||"create"),!p&&(0,r.jsx)(o.FooterLight,{className:"w-fit mx-auto lg:w-full"}),(0,r.jsx)(o.CreateApplicationModal,{isOpened:T,onClose:function(){return N(!1)},application:"DEV_PORTAL",mainUsage:f(g)})]})}))})):(0,r.jsx)(o.Loader,{})}},71526:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(85893),a=n(67294),i=n(89250),l=n(12599),o=n(27306),u=n(19010),s=n(96233),c=n(5813),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},h=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,a,i,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},p=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};const m=function(){var e=(0,i.UO)(),t=(0,i.s0)(),n=(0,a.useState)(!0),m=n[0],b=n[1],x=(0,a.useState)([]),v=x[0],g=x[1],y=(0,a.useState)(null),j=y[0],T=y[1],N=(0,a.useState)(),A=N[0],E=N[1],O=(null==e?void 0:e.uuid)||"",I=(0,a.useCallback)((function(e){var t=e.virtualWorldUuid,n=e.nextPage;return h(void 0,void 0,void 0,(function(){var e;return f(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),b(!0),[4,(0,u.IB)({virtualWorldUuid:t,nextPage:n})];case 1:return e=r.sent(),T(e.total),E(e.nextPage),g(p(p([],v,!0),e.items,!0)),[3,3];case 2:return b(!1),[7];case 3:return[2]}}))}))}),[v]),U=function(e,t){return h(void 0,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:n=p([],v,!0),r.label=1;case 1:return r.trys.push([1,6,,7]),T((j||0)-1),g(v.filter((function(t){return t.emoteUuid!==e.emoteUuid}))),t?(o.toast.success("Your emote has been validated."),[4,(0,u.Jc)(O,e.user,e.emoteUuid)]):[3,3];case 2:return r.sent(),[3,5];case 3:return o.toast.success("Your emote has been unpublished."),[4,(0,u.Xn)(O,e.user,e.emoteUuid)];case 4:r.sent(),r.label=5;case 5:return[3,7];case 6:return r.sent(),g(n),o.toast.error("An error has occured, try again."),[3,7];case 7:return[2]}}))}))};return(0,a.useEffect)((function(){I({virtualWorldUuid:O})}),[]),(0,r.jsx)(c.Z,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Title,{type:"h2",text:["User-Generated emotes","moderation"]}),(0,r.jsx)(o.Title,{type:"h3",text:["Overview"]}),null===j?(0,r.jsx)("div",d({className:"flex justify-center py-10"},{children:(0,r.jsx)(o.Loader,{})})):(0,r.jsx)(r.Fragment,{children:j?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",d({className:"flex gap-2 items-center pb-6"},{children:[(0,r.jsx)("span",d({className:"material-symbols-rounded text-3xl text-error-60"},{children:"error"})),(0,r.jsx)("span",{children:"Our system detected that the following emotes might be inappropriate. Please review."})]})),(0,r.jsxs)(o.Table,{children:[(0,r.jsx)(o.Table.Thead,{children:(0,r.jsxs)(o.Table.Tr,{children:[(0,r.jsx)(o.Table.TdHead,{label:["Emote name"]}),(0,r.jsx)(o.Table.TdHead,{label:["Emote preview"]}),(0,r.jsx)(o.Table.TdHead,{label:["User ID"]}),(0,r.jsx)(o.Table.TdHead,{label:["Moderation action"]})]})}),(0,r.jsx)(o.Table.Tbody,{children:v.map((function(e,n){return(0,r.jsxs)(o.Table.Tr,{children:[(0,r.jsx)(o.Table.Td,{children:e.data.name}),(0,r.jsx)(o.Table.Td,{children:(0,r.jsx)("img",{src:e.data.defaultThumbnailGifUrl,alt:"Emote preview",className:"h-52 mx-auto"})}),(0,r.jsx)(o.Table.Td,{children:(0,r.jsx)("span",d({className:"underline hover:text-primary duration-300 transition-all cursor-pointer",onClick:function(){return t((0,l.Gn)(s.n.USER_MODERATION.path,{uuid:O}),{state:{userId:e.user}})}},{children:e.user}))}),(0,r.jsx)(o.Table.Td,{children:(0,r.jsxs)("div",d({className:"flex justify-center gap-2"},{children:[(0,r.jsx)(o.Button,{label:"OK",className:"!bg-green",onClick:function(){return U(e,!0)}}),(0,r.jsx)(o.Button,{label:"Unpublish",className:"!bg-error-60",onClick:function(){return U(e,!1)}})]}))})]},"moderateOverviewItem-".concat(n))}))})]}),(0,r.jsx)("div",d({className:"py-6 flex justify-center"},{children:A&&(0,r.jsx)(o.Button,{label:"Show more",loading:m,onClick:function(){return I({virtualWorldUuid:O,nextPage:A})}})}))]}):(0,r.jsxs)("div",d({className:"flex gap-2 items-center"},{children:[(0,r.jsx)("span",d({className:"material-symbols-rounded text-3xl text-green"},{children:"check_circle"})),(0,r.jsx)("span",{children:"You have no emotes to review."})]}))})]})})}}}]);