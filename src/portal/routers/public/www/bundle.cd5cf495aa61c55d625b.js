"use strict";(self.webpackChunkkinetix_frontoffice=self.webpackChunkkinetix_frontoffice||[]).push([[669],{79757:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(67294),o=n(27306),a=n(85604),i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const c=function(e){var t=e.step,n=e.onLoadPage,c=void 0!==n&&n,l=(0,o.useAuth)(),s=l.getCustomAttribute,u=l.updateCustomAttribute,f=function(){return e=void 0,n=void 0,o=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(e){return s("custom:devportal_onboarding").then((function(e){var n=e?JSON.parse(e):[a._.CREATE_ACCOUNT];n.includes(t)||u("custom:devportal_onboarding",JSON.stringify(i(i([],n,!0),[t],!1)))})),[2]}))},new((r=void 0)||(r=Promise))((function(t,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function c(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,c)}l((o=o.apply(e,n||[])).next())}));var e,n,r,o};return(0,r.useEffect)((function(){c&&f()}),[]),{addStep:f}}},48761:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ge});var r=n(85893),o=n(67294),a=n(89250),i=n(27306),c=n(19010),l=n(85604),s=n(79757),u=n(5813),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)};const d=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Title,{type:"h2",text:["Ugc","viewer"]}),(0,r.jsx)(i.Title,{type:"h3",text:["Try the","User-Generated Emote feature","to preview and anticipate what your users will experience in your game."]}),(0,r.jsx)("p",{children:"Start with uploading a video including any movement you want to turn into an emote, and let our AI do its magic."}),(0,r.jsxs)("p",{children:["For more information about the way the User-Generated Emote feature works, visit its"," ",(0,r.jsx)("a",f({className:"underline transition-all hover:text-primary",href:"https://docs.kinetix.tech/management-at-run-phase/user-generated-emote-at-run-phase/user-generated-emote-specifications",title:"Documentation optimize video for Kinetix",target:"_blank",rel:"noreferrer"},{children:"dedicated page"}))," ","on the Documentation."]}),(0,r.jsxs)("p",{children:["To learn more about how to create User-Generated Emote and preview the results on your own avatar, check the"," ",(0,r.jsx)("a",f({className:"underline transition-all hover:text-primary",href:"https://docs.kinetix.tech/management-at-run-phase/developer-portal/try-the-user-generated-emote-feature",title:"Documentation optimize video for Kinetix",target:"_blank",rel:"noreferrer"},{children:"documentation"}))," ","and the video tutorial included."]}),(0,r.jsxs)("p",f({className:"mb-4"},{children:["For optimal emote results, select a video featuring a single character with their entire body framed within the video. Find detailed guidance on how to achieve the best outcomes"," ",(0,r.jsx)("a",f({className:"underline transition-all hover:text-primary",href:"https://docs.kinetix.tech/management-at-run-phase/user-generated-emote-at-run-phase/video-recording-best-practices",title:"Documentation optimize video for Kinetix",target:"_blank",rel:"noreferrer"},{children:"here"})),"."]}))]})},p=n.p+"fbc9ac52073f71a467c6.png",h=n.p+"c3d2d7693ff7ea3d71e8.gif";var v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)};const b=function(e){var t=e.next;return(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{src:h,alt:"Sam is walking",className:"max-w-xs mx-auto"}),(0,r.jsx)("p",{children:"Your Emote is being processed."}),(0,r.jsx)("p",{children:"You will receive an email when it is ready."}),(0,r.jsx)("div",v({className:"flex justify-end mt-6"},{children:(0,r.jsx)(i.Button,{label:"Done",onClick:function(){return t()}})}))]})},m=n.p+"831d9e9c7bb092c74563.mp4";var y=n(13356),x=n(85518),w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)};const g=function(e){var t=e.onLoadFile,n=(0,y.useDropzone)({accept:{"video/*":[]},multiple:!1,onDropAccepted:function(e){return n=void 0,r=void 0,a=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(n){return[2,t(e[0])]}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function c(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}}),o=n.getRootProps,a=n.getInputProps,c=n.open;return x.isMobile?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",w({},o(),{children:(0,r.jsx)("input",w({},a({}),{capture:!0}))})),(0,r.jsx)(i.Button,{label:"Record Video",iconName:"videocam",kind:"secondary",className:"w-fit",onClick:function(){return c()}})]}):null};var j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j.apply(this,arguments)};const N=function(e){var t=e.onLoadFile,n=(0,y.useDropzone)({accept:{"video/*":[]},multiple:!1,onDropAccepted:function(e){return n=void 0,r=void 0,a=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(n){return[2,t(e[0])]}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function c(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}}),o=n.getRootProps,a=n.getInputProps,c=n.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",j({},o(),{children:(0,r.jsx)("input",j({},a({})))})),(0,r.jsx)(i.Button,{label:"Upload video",iconName:"upload",className:"w-fit",onClick:function(){return c()}})]})};var O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)},S=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};const k=function(e){var t=e.next;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",O({className:"mb-2 rounded-xl overflow-hidden"},{children:(0,r.jsx)("video",{src:m,autoPlay:!0,loop:!0,playsInline:!0})})),(0,r.jsxs)("div",O({className:"flex gap-4 justify-center items-center pt-2 flex-col md:flex-row md:justify-end"},{children:[(0,r.jsx)(g,{onLoadFile:function(e){return S(void 0,void 0,void 0,(function(){return E(this,(function(n){return[2,t(e)]}))}))}}),(0,r.jsx)(N,{onLoadFile:function(e){return S(void 0,void 0,void 0,(function(){return E(this,(function(n){return[2,t(e)]}))}))}})]}))]})};var T=n(87536),P=n(60809),C=n.n(P),A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},A.apply(this,arguments)},U=function(e,t){if(void 0===t&&(t=25),e)return"maxLength"===e.type?"Max ".concat(t," characters (inc. spaces)."):e.message};const R=function(e){var t=e.next,n=e.back,o=(0,T.cI)(),a=o.control,c=o.handleSubmit,l=o.formState.errors;return(0,r.jsxs)("form",A({onSubmit:c((function(e){var n,r,o,a,i=e.name;return n=void 0,r=void 0,a=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(e){return t(i),[2]}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function c(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}))}))},{children:[(0,r.jsx)(i.Fieldset,{children:(0,r.jsx)(T.Qr,{name:"name",control:a,rules:{required:"Emote name is required.",maxLength:25,validate:function(e){return!C()().test(e)||"No emojis"}},defaultValue:"",render:function(e){var t=e.field;return(0,r.jsx)(i.Input,A({},t,{autoFocus:!0,label:"Emote Name",errorMessage:U(l.name)}))}})}),(0,r.jsxs)("div",A({className:"flex justify-between mt-6"},{children:[(0,r.jsx)(i.Button,{label:"Back",kind:"secondary",onClick:function(){return n()}}),(0,r.jsx)(i.Button,{type:"submit",label:"Next",disabled:!!Object.keys(l).length})]}))]}))};var _=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_.apply(this,arguments)},D=function(e){var t=e.toString().split("."),n=t[0],r=t[1],o=parseInt("".concat(parseFloat(n)/60)),a=parseInt(n)-60*o;return"00:".concat(o<10?"0".concat(o):o,":").concat(a<10?"0".concat(a):a,".").concat((r||"000").slice(0,3))};const M=function(e){var t=e.next,n=(e.back,e.file),a=e.name,l=e.addNewProcess,s=e.returnToSelectVideoStep,u=e.setActivatedStep,f=(0,o.useState)(),d=f[0],p=f[1],h=(0,o.useState)(),v=h[0],b=h[1],m=(0,o.useState)(),y=m[0],x=m[1];return(0,o.useEffect)((function(){return n&&b(URL.createObjectURL(new Blob([n],{type:"video/mp4"}))),function(){v&&URL.revokeObjectURL(v)}}),[n]),(0,r.jsx)(r.Fragment,{children:v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",_({className:"text-center pb-6"},{children:"Select the segment you wish to extract (10 max)"})),(0,r.jsx)("div",_({className:"w-full max-w-sm mx-auto px-4"},{children:(0,r.jsx)(i.TrimAndCropVideo,{fileUrl:v,onError:function(e){return e===i.TrimAndCropVideoErrorType.TOO_LONG?i.toast.error("Your video is too long."):i.toast.error("We do not support this video format."),u(1),s()},onUpdate:function(e){var t=e.selectedPeriod;return p(t)}})})),(0,r.jsx)("div",_({className:"flex justify-end mt-6"},{children:(0,r.jsx)(i.Button,{className:"w-fit ".concat(void 0!==y?"!px-12":""),label:"Proceed",disabled:!d,loading:void 0!==y,loadingLabel:y&&y>=99?"Processing file...":"Uploading file (".concat(y,"%)"),onClick:function(){return e=void 0,r=void 0,i=function(){var e;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),n&&a&&d?[4,(0,c.rK)(_({file:n,name:a},(o=d,{start:D(o.start),end:D(o.end)})),(function(e){x(parseInt(e.loaded/e.total*100))}))]:[2];case 1:return e=r.sent(),l(e),t(),[3,3];case 2:return x(void 0),[7];case 3:return[2]}var o}))},new((o=void 0)||(o=Promise))((function(t,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function c(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,c)}l((i=i.apply(e,r||[])).next())}));var e,r,o,i}})}))]})})},L=function(e){var t=e.onClose,n=e.addNewProcess,a=(0,o.useState)(),c=a[0],l=a[1],s=(0,o.useState)(),u=s[0],f=s[1];return(0,r.jsx)(i.VerticalStepper,{Steps:[{label:"Select a video",Renderer:k,onClickNextButton:function(e){return l(e)}},{label:"Name your emote",Renderer:R,onClickNextButton:function(e){return f(e)}},{label:"Duration",Renderer:M,file:c,name:u,addNewProcess:n,returnToSelectVideoStep:function(){f(void 0),l(void 0)}},{label:"Confirmation",Renderer:b,onClickNextButton:function(){return t(),l(void 0),void f(void 0)}}]})};var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},F.apply(this,arguments)};const G=function(e){var t=e.isOpen,n=e.onClose,a=e.addNewProcess,c=(0,o.useState)(Math.random()),l=c[0],s=c[1],u=function(){n()};return(0,o.useEffect)((function(){t&&s(Math.random())}),[t]),(0,r.jsx)(i.Modal,F({open:t,onClose:function(){return u()},title:["Create an","emote"]},{children:(0,r.jsx)(L,{onClose:u,addNewProcess:a})}),l)};var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},I.apply(this,arguments)};const B=function(e){var t=e.addNewProcess,n=(0,o.useState)(!1),a=n[0],c=n[1];return(0,r.jsxs)("div",I({className:"relative bg-surface-20-cut overflow-hidden flex flex-col w-full h-full justify-center"},{children:[(0,r.jsx)("div",I({className:"flex justify-start items-center w-1/2 mx-auto py-10"},{children:(0,r.jsx)("img",{src:p,alt:"Thumbnail preview"})})),(0,r.jsx)("div",I({className:"flex justify-center pb-10"},{children:(0,r.jsx)(i.Button,{iconName:"add",label:"Create emote",onClick:function(){return c(!0)}})})),(0,r.jsx)(G,{isOpen:a,onClose:function(){return c(!1)},addNewProcess:t})]}))};var z=n(12599),V=n(95639),H=n(23855),W=n(96233),Y=n(48397),q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},q.apply(this,arguments)},K=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Z=function(e){var t=e.isOpened,n=e.onClose,a=e.animationUuid,c=e.videoUuid,l=(0,i.useAuth)().isKinetixUser,s=(0,o.useRef)(),u=(0,o.useState)(),f=u[0],d=u[1],p=(0,o.useState)(),h=p[0],v=p[1],b=(0,o.useState)([]),m=b[0],y=b[1],w=(0,o.useState)(),g=w[0],j=w[1],N=(0,o.useState)(!1),O=N[0],S=N[1],E=(0,o.useState)(),k=E[0],T=E[1];return(0,o.useEffect)((function(){(0,Y.Nh)(a).then((function(e){return T((0,i.getEmoteDataFromAsset)(e))}));var e=(0,Y.Os)();d(e),(0,Y.gr)({limit:100}).then((function(t){var n=(0,i.convertCharactersToPreviewCharacters)(t.filter((function(e){var t;return["Processed","Validated"].includes((null===(t=e.metadata)||void 0===t?void 0:t.status)||"")})));y(n),v(n.length?n[0]:e)})),c?(S(!1),(0,Y.Nh)(c).then((function(e){var t=e.files.find((function(e){return e.name.includes("prepared")}));t&&j(t.url)}))):S(!0)}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.Modal,q({open:t,onClose:n,backgroundClassName:"bg-surface-10 !w-[90vw] !h-[90vh] relative"},{children:[(!O||!k)&&(0,r.jsx)(i.Loader,{}),h&&f&&k&&(c&&g||!c)&&(0,r.jsxs)("div",q({className:"flex w-full h-full absolute top-0 left-0 right-0 bottom-0 overflow-hidden"},{children:[(0,r.jsx)("div",q({className:"".concat(g&&!x.isMobile?"w-1/2":"w-full"," h-full")},{children:(O||x.isMobile)&&(0,r.jsx)(i.EmoteLibraryPreview,{selectedEmote:k,characters:K(K([],m,!0),[f],!1),defaultCharacter:h,associatedVideoRef:s.current,enableSwitchRetargeting:l,useAvatarFilesOnlyForPremiumAvatar:!0})})),g&&!x.isMobile&&(0,r.jsx)("div",q({className:"w-1/2 h-full"},{children:(0,r.jsx)("video",{ref:s,className:"w-full h-full",src:g,playsInline:!0,autoPlay:!0,loop:!0,muted:!0,preload:"auto",onLoadedMetadata:function(e){S(!0),s.current&&s.current.pause()}})}))]}))]}))})};var J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},J.apply(this,arguments)};const Q=function(e){var t=e.className,n=void 0===t?"w-2/4":t,o=e.children;return(0,r.jsx)("div",J({className:"".concat(n," relative bg-surface-60 overflow-hidden")},{children:o}))};var X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},X.apply(this,arguments)};const $=function(e){var t=e.className,n=void 0===t?"w-1/4":t,o=e.step,a=e.label,i=e.isHovered;return(0,r.jsx)(Q,X({className:n},{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 bottom-0 ".concat("DONE"===o?"w-full bg-green":"STARTED"===o?"w-auto animate-linearIndeterminateProgressBar transition-transform bg-yellow":"w-0 bg-yellow")}),(0,r.jsx)("div",X({className:"flex justify-center items-center absolute top-0 right-0 bottom-0 left-0 z-10 transition-all ".concat(i?"opacity-100":"opacity-0")},{children:(0,r.jsx)("span",X({className:"text-[0.45rem] ".concat("UNSTARTED"===o?"text-neutral-100":"text-surface-20")},{children:a}))}))]})}))};var ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ee.apply(this,arguments)},te=["initialized","transcoding","requesting_ml","waiting_scheduler"],ne=["waiting_runner","ml_running","ml_aborted","ml_done"],re=["rendering"];const oe=function(e){var t=e.step,n=e.ml,a=e.showProgression,i=void 0!==a&&a,c=(0,o.useState)(!1),l=c[0],s=c[1],u="".concat(((null==n?void 0:n.progression)||0)<5?5:null==n?void 0:n.progression,"%");return(0,r.jsxs)("div",ee({className:"w-full flex gap-1 transition-all absolute top-0 left-0 right-0 z-10 ".concat(l?"h-6":"h-1"),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},{children:[(0,r.jsx)($,{step:te.includes(t)?"STARTED":"DONE",label:"Preprocessing",isHovered:l}),i&&((null==n?void 0:n.progression)||0)>=5?(0,r.jsx)(Q,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 bottom-0 transition-all ".concat(ne.includes(t)?"animate-pulse":""," ").concat(re.includes(t)?"bg-green":"bg-yellow"),style:{width:te.includes(t)?"0":ne.includes(t)?u:"100%"}}),(0,r.jsx)("div",ee({className:"flex justify-center items-center absolute top-0 right-0 bottom-0 left-0 z-10 transition-all ".concat(l?"opacity-100":"opacity-0")},{children:(0,r.jsxs)("span",ee({className:"text-[0.45rem] ".concat(te.includes(t)?"text-neutral-100":"text-surface-20")},{children:["Processing (",u,")"]}))}))]})}):(0,r.jsx)($,{className:"w-1/2",step:te.includes(t)?"UNSTARTED":ne.includes(t)?"STARTED":"DONE",label:"Processing",isHovered:l}),(0,r.jsx)($,{step:re.includes(t)?"STARTED":"UNSTARTED",label:"Rendering",isHovered:l})]}))};var ae=function(){return ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ae.apply(this,arguments)},ie=function(e,t){if(void 0===t&&(t=25),e)return"maxLength"===e.type?"Max ".concat(t," characters (inc. spaces)."):e.message};const ce=function(e){var t=e.isOpen,n=e.onClose,a=e.onSuccess,c=e.name,l=(0,o.useState)(!1),s=l[0],u=l[1],f=(0,T.cI)(),d=f.control,p=f.handleSubmit,h=f.formState.errors,v=f.setValue;return(0,r.jsx)(i.Modal,ae({open:t,onClose:function(){return n()},size:"md"},{children:(0,r.jsxs)("form",ae({onSubmit:p((function(e){var t,r,o,c,l=e.processName;return t=void 0,r=void 0,c=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),u(!0),[4,a(l)];case 1:return e.sent(),v("processName",""),n(),[3,4];case 2:return e.sent(),i.toast.error("An error has occured, try again."),[3,4];case 3:return u(!1),[7];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function a(e){try{l(c.next(e))}catch(e){n(e)}}function i(e){try{l(c.throw(e))}catch(e){n(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,i)}l((c=c.apply(t,r||[])).next())}))}))},{children:[(0,r.jsxs)("p",ae({className:"pb-6"},{children:["Enter the new name ",c?'for "'.concat(c,'"'):""]})),(0,r.jsx)(i.Fieldset,{children:(0,r.jsx)(T.Qr,{name:"processName",control:d,rules:{required:"Name is required.",maxLength:25,validate:function(e){return!C()().test(e)||"No emojis."}},defaultValue:"",render:function(e){var t=e.field;return(0,r.jsx)(i.Input,ae({},t,{autoFocus:!0,label:"New name",labelBackgroundClassName:"bg-surface-10",errorMessage:ie(h.processName)}))}})}),(0,r.jsxs)("div",ae({className:"flex justify-between mt-6"},{children:[(0,r.jsx)(i.Button,{label:"Cancel",kind:"secondary",onClick:function(){return n()}}),(0,r.jsx)(i.Button,{loading:s,type:"submit",label:"Save",disabled:!!Object.keys(h).length})]}))]}))}))};var le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},le.apply(this,arguments)};const se=function(e){var t=e.isOpen,n=e.onClose,a=e.onSuccess,c=e.name,l=(0,o.useState)(!1),s=l[0],u=l[1];return(0,r.jsx)(i.Modal,le({open:t,onClose:function(){return n()},size:"md",title:["Delete","".concat(c,"?")]},{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",le({className:"mb-2"},{children:['Are you sure you want to delete the animation "',c,'"?']})),(0,r.jsx)("p",le({className:"mb-2"},{children:"If you agree, all files related to this animation will be deleted and you will not be able to use it anymore."})),(0,r.jsxs)("div",le({className:"flex justify-between mt-6"},{children:[(0,r.jsx)(i.Button,{label:"Cancel",kind:"secondary",onClick:function(){return n()}}),(0,r.jsx)(i.Button,{loading:s,label:"Confirm",onClick:function(){return e=void 0,t=void 0,o=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),u(!0),[4,a()];case 1:return e.sent(),n(),[3,4];case 2:return e.sent(),i.toast.error("An error has occured, try again."),[3,4];case 3:return u(!1),[7];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(n,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function c(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}l((o=o.apply(e,t||[])).next())}));var e,t,r,o}})]}))]})}))};var ue=function(){return ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ue.apply(this,arguments)},fe=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},de=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},pe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const he=function(e){var t=e.process,n=e.setName,a=e.processStatus,l=e.removeProcess,s=(0,o.useState)(!1),u=s[0],f=s[1],d=(0,o.useState)(!1),p=d[0],h=d[1];return(0,r.jsxs)("div",ue({className:"flex justify-end py-4 px-2"},{children:[(0,r.jsx)(i.Menu,{buttonClassName:"text-primary",items:pe([{label:"Rename",handleClick:function(){return f(!0)}}],"To process"!==a?[{label:"Delete",handleClick:function(){return h(!0)}}]:[],!0)}),(0,r.jsx)(ce,{isOpen:u,onClose:function(){return f(!1)},onSuccess:function(e){return fe(void 0,void 0,void 0,(function(){return de(this,(function(r){switch(r.label){case 0:return[4,(0,c.Y2)(t.uuid,e)];case 1:return r.sent(),n(e),[2]}}))}))},name:t.name}),(0,r.jsx)(se,{isOpen:p,onClose:function(){return h(!1)},onSuccess:function(){return fe(void 0,void 0,void 0,(function(){return de(this,(function(e){switch(e.label){case 0:return[4,l(t.uuid)];case 1:return e.sent(),[2]}}))}))},name:t.name||t.text||""})]}))};var ve=function(){return ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ve.apply(this,arguments)},be=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},me=function(e){return"done"===e.step?"Processed":e.step.includes("failed")?"Error":"To process"};const ye=function(e){var t=e.virtualWorldUuid,n=e.removeProcess,i=be(e,["virtualWorldUuid","removeProcess"]),l=(0,o.useRef)(),s=(0,a.s0)(),u=(0,a.TH)(),f=(0,o.useState)(i),d=f[0],p=f[1],h=(0,o.useState)(me(d)),v=h[0],b=h[1],m=(0,o.useState)(!1),y=m[0],x=m[1],w=(0,o.useState)(d.name||d.text||""),g=w[0],j=w[1],N=(0,o.useState)(!1),O=N[0],S=N[1],E="Processed"===v;return(0,o.useEffect)((function(){var e,t,n,r,o;"To process"===v&&(!O&&(e=d.thumbnailUrl,t=void 0,n=void 0,o=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(t){return e?(fetch(e).then((function(e){return S(200===e.status)})),[2]):[2]}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function c(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,c)}l((o=o.apply(t,n||[])).next())}))),l.current=setTimeout((function(){l.current&&clearTimeout(l.current),(0,c.Yt)(d.uuid).then((function(e){var t=e.thumbnailUrl,n=be(e,["thumbnailUrl"]);p(ve(ve({},d.thumbnailUrl?{thumbnailUrl:d.thumbnailUrl}:{thumbnailUrl:t}),n)),b(me(n))}))}),1e4))}),[d]),(0,o.useEffect)((function(){u.hash.includes("#animationUuid=")&&u.hash.split("#animationUuid=")[1]===d.uuid&&x(!0)}),[u,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",ve({className:"relative overflow-hidden bg-surface-20-cut ".concat(E?"cursor-pointer":""),onClick:function(){return E&&s((0,z.Gn)("".concat(W.n.USER_GENERATED_EMOTES.path,"#animationUuid=").concat(d.uuid),{uuid:t}))}},{children:["To process"===v&&(0,r.jsx)(oe,ve({},d,{showProgression:!!d.video})),(0,r.jsxs)("div",ve({className:"relative flex justify-center items-center w-full mx-auto h-[200px] ".concat(d.text?"bg-neutral-100":"")},{children:[(0,r.jsx)("div",ve({className:"absolute right-0 top-0 z-10",onClick:function(e){return e.stopPropagation()}},{children:(0,r.jsx)(he,{process:d,processStatus:v,setName:j,removeProcess:n})})),(d.thumbnailUrl&&"To process"!==v||O&&"To process"===v)&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"overflow-hidden relative h-full w-full bg-cover bg-center after:block after:pb-[100%]",style:{backgroundImage:"url(".concat(d.thumbnailUrl,")")}})}),d.text&&(0,r.jsxs)("div",ve({className:"w-full px-4"},{children:[(0,r.jsx)("p",ve({className:"text-primary font-bold mb-1 text-sm font-soehnekraftig"},{children:"Prompt"})),(0,r.jsx)("p",ve({className:"line-clamp-4 text-surface-20"},{children:d.text}))]})),(!d.thumbnailUrl||!O&&"To process"===v)&&!d.text&&(0,r.jsx)("span",ve({className:"material-symbols-rounded text-4xl p-6"},{children:d.video?"movie":"terminal"}))]})),(0,r.jsxs)("div",ve({className:"px-4 py-6"},{children:[(0,r.jsx)("p",ve({className:"text-lg font-soehneextrafett text-ellipsis overflow-hidden whitespace-nowrap mb-2 min-h-[28px]",title:g},{children:g})),(0,r.jsxs)("p",ve({className:"mb-2 text-xs"},{children:[(0,r.jsx)("span",ve({className:"font-bold"},{children:"Created at : "})),(0,V.default)("string"==typeof d.createdAt?(0,H.default)(d.createdAt):d.createdAt,"yyy-MM-dd HH:mm:ss")]})),(0,r.jsxs)("div",ve({className:"flex items-center gap-1"},{children:[(0,r.jsx)("p",{className:"w-3 h-3 rounded-full ".concat("Processed"===v?"bg-green":"Error"===v?"bg-error-60":"bg-yellow")}),(0,r.jsxs)("p",ve({className:"".concat("Processed"===v?"text-green":"Error"===v?"text-error-60":"text-yellow")},{children:[v,"To process"===v?"...":""]}))]}))]}))]})),y&&(0,r.jsx)(Z,{isOpened:y,onClose:function(){x(!1),s((0,z.Gn)(W.n.USER_GENERATED_EMOTES.path,{uuid:t}))},animationUuid:d.emote,videoUuid:d.video})]})};var xe=function(){return xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xe.apply(this,arguments)},we=function(e){var t=e.numberOfColumn,n=e.virtualWorldUuid,a=(0,s.Z)({step:l._.USER_GENERATED_EMOTES}).addStep,i=(0,o.useState)([]),f=i[0],p=i[1];return(0,o.useEffect)((function(){(0,c.CN)().then((function(e){return p(e)}))}),[]),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(d,{}),(0,r.jsx)("div",xe({className:"mt-10"},{children:(0,r.jsxs)("div",xe({className:"grid gap-6",style:{gridTemplateColumns:"repeat(".concat(t,", minmax(0, 1fr))")}},{children:[(0,r.jsx)(B,{addNewProcess:function(e){p(function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([e],f,!0)),a()}}),f.map((function(e){return(0,r.jsx)(ye,xe({},e,{virtualWorldUuid:n,removeProcess:function(e){return t=void 0,n=void 0,o=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,c.pH)(e)];case 1:return t.sent(),p(f.filter((function(t){return t.uuid!==e}))),[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function c(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,c)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}}),"process-".concat(e.uuid))}))]}))}))]})};const ge=function(){var e=(0,o.useRef)(),t=(0,a.UO)(),n=(0,i.useWindowSize)(),c=(0,o.useState)(),l=c[0],s=c[1],u=(null==t?void 0:t.uuid)||"";return(0,o.useEffect)((function(){if(e.current){var t=(null==n?void 0:n.width)||0,r=parseInt("".concat(e.current.offsetWidth/288));s(t<768?{numberOfColumn:1,limit:9}:{numberOfColumn:r,limit:3*r})}}),[e,n]),(0,r.jsx)("div",xe({ref:e},{children:l&&u&&(0,r.jsx)(we,{numberOfColumn:l.numberOfColumn,virtualWorldUuid:u})}))}},85604:(e,t,n)=>{var r;n.d(t,{_:()=>r}),function(e){e.CREATE_ACCOUNT="CREATE_ACCOUNT",e.UPLOAD_AVATAR="UPLOAD_AVATAR",e.EMOTE_LIBRARY="EMOTE_LIBRARY",e.USER_GENERATED_EMOTES="USER_GENERATED_EMOTES",e.ALIAS="ALIAS",e.MODERATE_USER_GENERATED_EMOTES="MODERATE_USER_GENERATED_EMOTES"}(r||(r={}))}}]);